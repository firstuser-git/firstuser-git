{
	"Resources": {
		"EC2Instance1fromcloudformation": {
			"Type": "AWS::EC2::Instance",
			"Properties": {"ImageId":  "{{resolve:ssm:ImageID:1}}",
				
				"InstanceType": "{{resolve:ssm:InstanceType:1}}",
				
				"SecurityGroupIds": [{
					"Fn::GetAtt": ["AWSsecondsg", "GroupId"]
				}],
				"KeyName": "JohnFirstEC2"
			},
			"DependsOn": [
				"AWSsecondsg"
			]
		},
		"AWSsecondsg": {
			"Type": "AWS::EC2::SecurityGroup",
			"Properties": {
				"GroupDescription": "Dynamic security group from cft",
				"GroupName": "mysecondEC2SG",
				"SecurityGroupIngress": [{
						"IpProtocol": "tcp",
						"FromPort": 80,
						"ToPort": 80,
						"CidrIp": "76.187.209.119/32"
					},
					{
						"IpProtocol": "tcp",
						"FromPort": 22,
						"ToPort": 22,
						"CidrIp": "0.0.0.0/0"
					}
				],
				"VpcId": "vpc-d0c841bb"

			}


		}
	}
}